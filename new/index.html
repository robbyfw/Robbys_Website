<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Escape Room - The Lost Temple</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="game-container">
        <!-- Start Screen -->
        <div id="start-screen" class="screen active">
            <div class="start-content">
                <h1>🏛️ The Lost Temple</h1>
                <p>You've discovered an ancient temple filled with mysteries. Solve the puzzles to escape before time runs out!</p>
                <div class="difficulty-selector">
                    <button class="difficulty-btn" data-time="60">Easy (60 min)</button>
                    <button class="difficulty-btn" data-time="45">Medium (45 min)</button>
                    <button class="difficulty-btn" data-time="30">Hard (30 min)</button>
                </div>
                <button id="start-btn" class="btn-primary">Begin Adventure</button>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="screen">
            <div class="game-header">
                <div class="timer" id="timer">60:00</div>
                <div class="room-counter">Room: <span id="room-number">1</span>/5</div>
                <button id="hint-btn" class="btn-secondary">💡 Hint</button>
            </div>

            <div class="game-content">
                <!-- Room 1: Number Lock -->
                <div id="room-1" class="room active">
                    <h2>Room 1: The Ancient Lock</h2>
                    <p>A stone door blocks your path. Carved symbols hint at a combination:</p>
                    <div class="puzzle-hint">
                        <p>🔢 <em>"I am three digits. My digits sum to 12. The first is twice the second. The last is the sum of the first two."</em></p>
                    </div>
                    <div class="puzzle-input">
                        <input type="number" id="number-lock" placeholder="Enter 3-digit code" maxlength="3" min="100" max="999">
                        <button onclick="checkNumberLock()" class="btn-primary">Unlock</button>
                    </div>
                    <div class="feedback" id="room1-feedback"></div>
                </div>

                <!-- Room 2: Word Puzzle -->
                <div id="room-2" class="room">
                    <h2>Room 2: The Riddle Chamber</h2>
                    <p>An ancient scroll reveals a riddle:</p>
                    <div class="puzzle-hint">
                        <p>🎭 <em>"I speak without a mouth and hear without ears. I have no body, but I come alive with wind. What am I?"</em></p>
                    </div>
                    <div class="puzzle-input">
                        <input type="text" id="word-puzzle" placeholder="Your answer">
                        <button onclick="checkWordPuzzle()" class="btn-primary">Answer</button>
                    </div>
                    <div class="feedback" id="room2-feedback"></div>
                </div>

                <!-- Room 3: Pattern Puzzle -->
                <div id="room-3" class="room">
                    <h2>Room 3: The Pattern Wall</h2>
                    <p>Strange symbols are arranged in a pattern:</p>
                    <div class="pattern-grid">
                        <div class="pattern-cell">△</div>
                        <div class="pattern-cell">□</div>
                        <div class="pattern-cell">○</div>
                        <div class="pattern-cell">△</div>
                        <div class="pattern-cell">□</div>
                        <div class="pattern-cell">?</div>
                    </div>
                    <p>What comes next in the pattern?</p>
                    <div class="puzzle-input">
                        <select id="pattern-select">
                            <option value="">Choose symbol</option>
                            <option value="△">Triangle (△)</option>
                            <option value="□">Square (□)</option>
                            <option value="○">Circle (○)</option>
                            <option value="☆">Star (☆)</option>
                        </select>
                        <button onclick="checkPattern()" class="btn-primary">Check Pattern</button>
                    </div>
                    <div class="feedback" id="room3-feedback"></div>
                </div>

                <!-- Room 4: Color Code -->
                <div id="room-4" class="room">
                    <h2>Room 4: The Color Cipher</h2>
                    <p>A panel with colored buttons. The clue reads:</p>
                    <div class="puzzle-hint">
                        <p>🎨 <em>"Press the colors in rainbow order, but skip the color of the sky and add the color of night."</em></p>
                    </div>
                    <div class="color-buttons">
                        <button class="color-btn" data-color="red" style="background: #ff4444;">🔴</button>
                        <button class="color-btn" data-color="orange" style="background: #ff8844;">🟠</button>
                        <button class="color-btn" data-color="yellow" style="background: #ffff44;">🟡</button>
                        <button class="color-btn" data-color="green" style="background: #44ff44;">🟢</button>
                        <button class="color-btn" data-color="blue" style="background: #4444ff;">🔵</button>
                        <button class="color-btn" data-color="purple" style="background: #8844ff;">🟣</button>
                        <button class="color-btn" data-color="black" style="background: #000000; color: white;">⚫</button>
                    </div>
                    <div class="selected-colors">
                        <p>Selected: <span id="color-sequence"></span></p>
                        <button onclick="checkColorCode()" class="btn-primary">Submit Sequence</button>
                        <button onclick="resetColors()" class="btn-secondary">Reset</button>
                    </div>
                    <div class="feedback" id="room4-feedback"></div>
                </div>

                <!-- Room 5: Final Puzzle -->
                <div id="room-5" class="room">
                    <h2>Room 5: The Final Challenge</h2>
                    <p>Combine all previous answers to form the final code:</p>
                    <div class="final-puzzle">
                        <div class="clue-box">
                            <p><strong>From Room 1:</strong> Number lock code</p>
                            <p><strong>From Room 2:</strong> First letter of answer</p>
                            <p><strong>From Room 3:</strong> Shape symbol</p>
                            <p><strong>From Room 4:</strong> Number of colors selected</p>
                        </div>
                        <div class="puzzle-input">
                            <input type="text" id="final-code" placeholder="Enter final code (e.g., 123EO4)">
                            <button onclick="checkFinalCode()" class="btn-primary">Escape!</button>
                        </div>
                    </div>
                    <div class="feedback" id="room5-feedback"></div>
                </div>
            </div>
        </div>

        <!-- Win Screen -->
        <div id="win-screen" class="screen">
            <div class="win-content">
                <h1>🎉 Congratulations! 🎉</h1>
                <p>You've escaped the Lost Temple!</p>
                <div class="stats">
                    <p>Time remaining: <span id="time-remaining">00:00</span></p>
                    <p>Rooms completed: <span id="rooms-completed">5</span>/5</p>
                </div>
                <button onclick="restartGame()" class="btn-primary">Play Again</button>
            </div>
        </div>

        <!-- Lose Screen -->
        <div id="lose-screen" class="screen">
            <div class="lose-content">
                <h1>⏰ Time's Up!</h1>
                <p>The temple doors have sealed shut forever.</p>
                <button onclick="restartGame()" class="btn-primary">Try Again</button>
            </div>
        </div>

        <!-- Hint Modal -->
        <div id="hint-modal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h3>💡 Hint</h3>
                <div id="hint-content">
                    <!-- Hint content will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>